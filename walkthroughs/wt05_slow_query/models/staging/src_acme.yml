version: 2

sources:
  - name: raw
    schema: raw
    tables:
      - name: raw_orders
        description: "Raw orders from transactional system"
        columns:
          - name: order_id
            tests: [unique, not_null]
          - name: customer_id
            tests: [not_null]
          - name: order_date
            tests: [not_null]
          - name: status
            tests:
              - accepted_values:
                  values: ['completed', 'pending', 'cancelled', 'refunded']

      - name: raw_order_items
        description: "Line items for each order"
        columns:
          - name: item_id
            tests: [unique, not_null]
          - name: order_id
            tests: [not_null]

      - name: raw_customers
        description: "Customer master"
        columns:
          - name: customer_id
            tests: [unique, not_null]

      - name: raw_products
        description: "Product catalog"
        columns:
          - name: product_id
            tests: [unique, not_null]
